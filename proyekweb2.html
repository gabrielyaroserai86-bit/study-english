<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USA Slang Mastery: 50 Levels</title>
    <style>
        :root {
            --bg-color: #0b0e14;
            --card-color: #1a1f2e;
            --accent-color: #00ffa3; /* Neon Mint */
            --wrong-color: #ff4655;
            --text-color: #e2e8f0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Stats Header */
        .top-bar {
            position: sticky; top: 0; width: 100%; height: 60px;
            background: rgba(26, 31, 46, 0.9); backdrop-filter: blur(10px);
            display: flex; justify-content: center; align-items: center; gap: 30px;
            border-bottom: 2px solid #2d3748; z-index: 1000;
        }
        .stat { font-weight: bold; font-size: 1.1rem; }
        .heart-icon { color: #ff4655; }

        /* The Map */
        #map {
            display: flex; flex-direction: column; align-items: center;
            padding: 50px 0; width: 100%; max-width: 600px;
        }

        .level-wrapper { display: flex; flex-direction: column; align-items: center; width: 100%; }

        .node {
            width: 75px; height: 75px; border-radius: 50%;
            background: var(--card-color); border: 4px solid #2d3748;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; cursor: pointer; transition: 0.3s;
            position: relative; z-index: 2; margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .node.unlocked { border-color: var(--accent-color); color: var(--accent-color); }
        .node.locked { opacity: 0.5; cursor: not-allowed; }
        .node:hover:not(.locked) { transform: scale(1.1); background: var(--accent-color); color: black; }

        .line {
            width: 6px; height: 40px; background: #2d3748;
            margin: -5px 0; z-index: 1;
        }
        .line.active { background: var(--accent-color); }

        /* Posisi Melengkung (Snake Path) */
        .pos-right { transform: translateX(60px); }
        .pos-left { transform: translateX(-60px); }

        /* Quiz UI */
        #quiz-box {
            display: none; position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; max-width: 450px; background: var(--card-color);
            padding: 30px; border-radius: 24px; border: 2px solid var(--accent-color);
            z-index: 2000;
        }

        .option-btn {
            width: 100%; padding: 15px; margin: 10px 0; border: 2px solid #2d3748;
            background: transparent; color: white; border-radius: 12px;
            cursor: pointer; text-align: left; transition: 0.2s;
        }
        .option-btn:hover { border-color: var(--accent-color); background: rgba(0, 255, 163, 0.1); }

        #explanation-box {
            margin-top: 15px; padding: 15px; border-radius: 12px; display: none;
            font-size: 0.9rem; line-height: 1.4;
        }
        .correct-bg { background: #064e3b; color: #a7f3d0; border: 1px solid var(--accent-color); }
        .wrong-bg { background: #451212; color: #fecdd3; border: 1px solid var(--wrong-color); }

        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1500; }
        
        button#continue-btn {
            width: 100%; padding: 15px; background: var(--accent-color);
            border: none; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 15px;
        }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="stat">XP: <span id="xp">0</span></div>
    <div class="stat">Hearts: <span id="hearts" class="heart-icon">❤️❤️❤️</span></div>
</div>

<div id="map"></div>

<div class="overlay" id="overlay"></div>
<div id="quiz-box">
    <h2 id="q-text" style="margin-top:0">Question</h2>
    <div id="options"></div>
    <div id="explanation-box"></div>
    <button id="continue-btn" style="display:none" onclick="nextQuestion()">CONTINUE</button>
</div>

<script>
    // DATA KOSA KATA (Contoh Dasar - Sistem akan mengulang jika level > data)
    const vocabData = [
        { q: "What does 'No Cap' mean?", a: ["I'm lying", "Seriously/No lie", "I lost my hat"], c: 1, e: "'Cap' artinya bohong. 'No cap' artinya jujur/serius." },
        { q: "If something is 'Bussin', it is...", a: ["Very delicious", "A big bus", "Very noisy"], c: 0, e: "Sering digunakan untuk makanan yang enak banget." },
        { q: "What is 'The Tea'?", a: ["Hot drink", "Gossip/Information", "A party"], c: 1, e: "'Spill the tea' artinya menceritakan gosip terbaru." },
        { q: "What does 'Bet' mean in American slang?", a: ["I'm gambling", "Okay/I agree", "I'm confused"], c: 1, e: "'Bet' sering digunakan untuk bilang 'Oke' atau 'Ayo!'." },
        { q: "If someone is 'Salty', they are...", a: ["Eating salt", "Upset/Annoyed", "Funny"], c: 1, e: "'Salty' digunakan saat seseorang kesal karena hal sepele." },
        { q: "What is 'Rent-free'?", a: ["Free house", "Can't stop thinking about it", "Rich"], c: 1, e: "Jika sesuatu ada di kepala 'rent-free', artinya kamu terus memikirkannya." },
        { q: "What is 'Lowkey'?", a: ["Secretly/A little bit", "Key is lost", "Very loud"], c: 0, e: "Contoh: 'I lowkey want to go' (Aku agak pengen pergi)." },
        { q: "What does 'Ghosting' mean?", a: ["Wearing a costume", "Disappearing suddenly", "Scaring people"], c: 1, e: "Menghilang/berhenti membalas chat tanpa penjelasan." }
        // Kamu bisa menambah ribuan data di sini
    ];

    let xp = 0;
    let hearts = 3;
    let currentLvlIdx = 0;
    let unlockedLvl = 1;

    // GENERATE 50 LEVELS
    const mapContainer = document.getElementById('map');
    for (let i = 1; i <= 50; i++) {
        const wrapper = document.createElement('div');
        wrapper.className = 'level-wrapper';
        
        const node = document.createElement('div');
        node.id = `node-${i}`;
        node.className = `node ${i === 1 ? 'unlocked' : 'locked'}`;
        
        // Membuat pola meliuk (Snake Path)
        if (i % 4 === 2) node.classList.add('pos-right');
        if (i % 4 === 0) node.classList.add('pos-left');

        node.innerText = i;
        node.onclick = () => startLevel(i);
        
        wrapper.appendChild(node);
        
        if (i < 50) {
            const line = document.createElement('div');
            line.id = `line-${i}`;
            line.className = 'line';
            if (i % 4 === 1) line.classList.add('pos-right');
            if (i % 4 === 3) line.classList.add('pos-left');
            wrapper.appendChild(line);
        }
        
        mapContainer.appendChild(wrapper);
    }

    function startLevel(num) {
        if (num > unlockedLvl) return;
        currentLvlIdx = num;
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('quiz-box').style.display = 'block';
        showQuestion();
    }

    function showQuestion() {
        const data = vocabData[(currentLvlIdx - 1) % vocabData.length];
        document.getElementById('q-text').innerText = data.q;
        const optDiv = document.getElementById('options');
        optDiv.innerHTML = '';
        document.getElementById('explanation-box').style.display = 'none';
        document.getElementById('continue-btn').style.display = 'none';

        data.a.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAns(idx, data.c, data.e);
            optDiv.appendChild(btn);
        });
    }

    function checkAns(idx, correct, exp) {
        const box = document.getElementById('explanation-box');
        box.style.display = 'block';
        if (idx === correct) {
            box.className = 'correct-bg';
            box.innerHTML = `<b>Correct!</b><br>${exp}`;
            document.getElementById('continue-btn').style.display = 'block';
            xp += 20;
        } else {
            box.className = 'wrong-bg';
            box.innerHTML = `<b>Wrong Answer!</b><br>The answer is: ${vocabData[(currentLvlIdx - 1) % vocabData.length].a[correct]}.<br>${exp}`;
            hearts--;
            if (hearts <= 0) {
                alert("Game Over! Pulihkan tenaga dan coba lagi.");
                location.reload();
            }
        }
        document.getElementById('xp').innerText = xp;
        document.getElementById('hearts').innerText = "❤️".repeat(hearts);
    }

    function nextQuestion() {
        // Unlock next level
        if (currentLvlIdx === unlockedLvl && unlockedLvl < 50) {
            unlockedLvl++;
            document.getElementById(`node-${unlockedLvl}`).classList.replace('locked', 'unlocked');
            document.getElementById(`line-${currentLvlIdx}`).classList.add('active');
        }
        
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('quiz-box').style.display = 'none';
        window.scrollTo({ top: document.getElementById(`node-${unlockedLvl}`).offsetTop - 300, behavior: 'smooth' });
    }
</script>

</body>
</html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>American English Master - 50 Levels</title>
    <style>
        :root {
            --bg-color: #020617;
            --card-color: #1e293b;
            --accent-color: #10b981;
            --wrong-color: #ef4444;
            --text-color: #f1f5f9;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
        }

        /* Navigasi Stats */
        .stats-nav {
            position: fixed; top: 0; width: 100%; height: 70px;
            background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(10px);
            display: flex; justify-content: space-around; align-items: center;
            border-bottom: 2px solid #334155; z-index: 1000;
        }
        .stat-box { font-weight: bold; font-size: 1.2rem; }
        .heart { color: #f43f5e; letter-spacing: 5px; }

        /* Peta Level */
        #map-container {
            padding: 100px 0; display: flex; flex-direction: column; align-items: center;
            width: 100%; max-width: 500px;
        }

        .level-wrapper { display: flex; flex-direction: column; align-items: center; position: relative; }

        .node {
            width: 85px; height: 85px; border-radius: 50%;
            background: var(--card-color); border: 5px solid #334155;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            font-weight: bold; cursor: pointer; transition: 0.3s;
            margin: 20px 0; z-index: 2; box-shadow: 0 10px 0 #0f172a;
        }

        .node.unlocked { border-color: var(--accent-color); color: var(--accent-color); }
        .node.locked { opacity: 0.4; cursor: not-allowed; }
        .node:active { transform: translateY(5px); box-shadow: 0 5px